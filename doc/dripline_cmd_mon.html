<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Module dripline_cmd_mon</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module dripline_cmd_mon</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>dripline_cmd_mon is one of the dripline 'monitor' modules.

<p><b>Version:</b> 0.1a</p>
<p><b>Authors:</b> jared kofron (<a href="mailto:jared.kofron@gmail.com"><tt>jared.kofron@gmail.com</tt></a>).</p>

<h2><a name="description">Description</a></h2>dripline_cmd_mon is one of the dripline 'monitor' modules.
 		it watches the dripline_cmd database on a couchdb server for
 		changes, and is responsible for dispatching those changes
 		asynchronously to a dispatcher.  it exports a notify/2
 		function which allows it to expect a document change to have
 		a specific revision, which it will ignore.
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#code_change-4">code_change/4</a></td><td></td></tr>
<tr><td valign="top"><a href="#connecting-2">connecting/2</a></td><td>connecting is the state where the fsm begins its work by
 		telling couchdb it wants streaming changes from the dripline_cmd
 		database.</td></tr>
<tr><td valign="top"><a href="#handle_event-3">handle_event/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_info-3">handle_info/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_sync_event-4">handle_sync_event/4</a></td><td></td></tr>
<tr><td valign="top"><a href="#init-1">init/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#notify-2">notify/2</a></td><td>notify/2 mutates the state of the FSM so that it expects a
 		particular document change to carry a specific revision number.</td></tr>
<tr><td valign="top"><a href="#start_link-0">start_link/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#terminate-3">terminate/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#waiting-2">waiting/2</a></td><td>waiting is the usual state of the fsm, where it waits for changes
 		from couchdb.</td></tr>
<tr><td valign="top"><a href="#waiting-3">waiting/3</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="code_change-4">code_change/4</a></h3>
<div class="spec">
<p><tt>code_change(Vsn, StateName, StateData, Extra) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="connecting-2">connecting/2</a></h3>
<div class="spec">
<p><tt>connecting(X1, State) -&gt; any()</tt></p>
</div><p>connecting is the state where the fsm begins its work by
 		telling couchdb it wants streaming changes from the dripline_cmd
 		database.</p>

<h3 class="function"><a name="handle_event-3">handle_event/3</a></h3>
<div class="spec">
<p><tt>handle_event(Event, StateName, StateData) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_info-3">handle_info/3</a></h3>
<div class="spec">
<p><tt>handle_info(X1, X2, StateData) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_sync_event-4">handle_sync_event/4</a></h3>
<div class="spec">
<p><tt>handle_sync_event(X1, From, StateName, State) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="init-1">init/1</a></h3>
<div class="spec">
<p><tt>init(X1) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="notify-2">notify/2</a></h3>
<div class="spec">
<p><tt>notify(DocId::binary(), RevNo::integer()) -&gt; ok</tt><br></p>
</div><p>notify/2 mutates the state of the FSM so that it expects a
 		particular document change to carry a specific revision number.
 		if the FSM receives a change that it has been previously notified
 		of, it ignores it and does not pass it to the dispatching queue.
 		this is, among other things, to avoid infinite loops due to
 		updating documents with message replies.</p>

<h3 class="function"><a name="start_link-0">start_link/0</a></h3>
<div class="spec">
<p><tt>start_link() -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="terminate-3">terminate/3</a></h3>
<div class="spec">
<p><tt>terminate(Reason, StateName, StateData) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="waiting-2">waiting/2</a></h3>
<div class="spec">
<p><tt>waiting(Event, StateData) -&gt; any()</tt></p>
</div><p>waiting is the usual state of the fsm, where it waits for changes
 		from couchdb.</p>

<h3 class="function"><a name="waiting-3">waiting/3</a></h3>
<div class="spec">
<p><tt>waiting(Event, From, StateData) -&gt; any()</tt></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Mar 2 2012, 10:39:47.</i></p>
</body>
</html>
